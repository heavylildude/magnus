"use strict";function setupEventListeners(){document.getElementById("toggleExplorer").onclick=()=>{document.getElementById("fileExplorer").classList.toggle("collapsed")};document.getElementById("toggleChat").onclick=()=>{document.getElementById("chatPanel").classList.toggle("collapsed")};document.getElementById("openFolder").onclick=openFolderDialog;document.getElementById("openFile").onclick=openFileDialog;document.getElementById("newFile").onclick=createNewFile;document.getElementById("saveFile").onclick=saveCurrentFile;document.getElementById("saveAllFiles").onclick=saveAllFiles;document.getElementById("sendChat").onclick=sendChatMessage;document.getElementById("clearChat").onclick=clearChat;document.getElementById("addContextBtn").onclick=openContextSearch;document.getElementById("contextSearchInput").addEventListener("input",e=>{renderContextOptions(e.target.value)});const editorArea=document.querySelector(".editor-area");const fileExplorer=document.getElementById("fileExplorer");const dragDropZones=[editorArea,fileExplorer];dragDropZones.forEach(el=>{el.addEventListener("dragover",e=>{e.preventDefault();e.stopPropagation();e.dataTransfer.dropEffect="copy";el.style.background="rgba(0, 122, 204, 0.1)"});el.addEventListener("dragenter",e=>{e.preventDefault();e.stopPropagation()});el.addEventListener("dragleave",e=>{e.preventDefault();el.style.background=""});el.addEventListener("drop",async e=>{e.preventDefault();e.stopPropagation();el.style.background="";await handleDrop(e)})});document.getElementById("editorTabs").addEventListener("dblclick",e=>{if(e.target===document.getElementById("editorTabs")){createNewFile()}});window.addEventListener("keydown",event=>{if(event.ctrlKey||event.metaKey){const key=event.key.toLowerCase();if(key==="n"){event.preventDefault();createNewFile()}else if(key==="s"){event.preventDefault();if(event.shiftKey){saveAllFiles()}else{saveCurrentFile()}}else if(key==="o"){event.preventDefault();event.shiftKey?openFolderDialog():openFileDialog()}}})}function handleEditorChange(){if(activeFileIndex<0)return;const file=openFiles[activeFileIndex];const currentContent=editor.getValue();if(file.originalContent!==null&&currentContent!==file.originalContent&&!file.unsaved){file.unsaved=true;file.content=currentContent;renderTabs();renderFileTree();updateSaveButton()}else if(currentContent!==file.originalContent){file.content=currentContent}}