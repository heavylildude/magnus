"use strict";(function(){CodeMirror.commands.selectNextOccurrence=function(cm){const selections=cm.listSelections();const lastSelection=selections[selections.length-1];let searchText=cm.getRange(lastSelection.anchor,lastSelection.head);if(!searchText){const cursor=lastSelection.head;const line=cm.getLine(cursor.line);const start=cursor.ch;let wordStart=start;let wordEnd=start;const wordChars=/[\w$]/;while(wordStart>0&&wordChars.test(line[wordStart-1])){wordStart--}while(wordEnd<line.length&&wordChars.test(line[wordEnd])){wordEnd++}if(wordStart<wordEnd){searchText=line.substring(wordStart,wordEnd);cm.setSelection({line:cursor.line,ch:wordStart},{line:cursor.line,ch:wordEnd})}else{return}}const cursor=cm.getSearchCursor(searchText,lastSelection.head);if(cursor.findNext()){cm.addSelection(cursor.from(),cursor.to())}else{const cursorFromStart=cm.getSearchCursor(searchText,{line:0,ch:0});if(cursorFromStart.findNext()){cm.addSelection(cursorFromStart.from(),cursorFromStart.to())}}};function init(){initEditor();setupEventListeners();checkOllamaHealth();setInterval(checkOllamaHealth,3e4)}function initEditor(){editor=CodeMirror.fromTextArea(document.getElementById("editor"),{mode:"javascript",theme:"dracula",lineNumbers:true,matchBrackets:true,styleActiveLine:true,styleActiveSelected:true,autoCloseBrackets:true,indentUnit:2,tabSize:2,lineWrapping:false,readOnly:true,extraKeys:{"Ctrl-Click":"toggleCursor","Ctrl-D":"selectNextOccurrence","Ctrl-Shift-L":"splitSelectionByLine","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-Click":"toggleCursor"},addModeClass:true});editor.on("cursorActivity",function(){lastCursorPosition=editor.getCursor();updateStatusBar()});editor.on("change",handleEditorChange)}document.addEventListener("DOMContentLoaded",init)})();